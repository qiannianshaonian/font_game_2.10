{
  "code": "import { Browser } from \"laya/utils/Browser\";\r\nexport class TTMiniUtils {\r\n    static init() {\r\n        TTMiniUtils.gameRecorder = Browser.window.tt.getGameRecorderManager();\r\n        TTMiniUtils.gameRecorder.onStart(() => {\r\n            console.log('录屏开始');\r\n        });\r\n        TTMiniUtils.gameRecorder.onStop((res) => {\r\n            console.log('录屏结束', res.videoPath);\r\n            TTMiniUtils.videoPath = res.videoPath;\r\n        });\r\n        TTMiniUtils.gameRecorder.onInterruptionBegin((res) => {\r\n            console.log('监听录屏中断开始', res.videoPath);\r\n        });\r\n        TTMiniUtils.gameRecorder.onInterruptionEnd((res) => {\r\n            console.log('监听录屏中断结束', res.videoPath);\r\n        });\r\n        TTMiniUtils.gameRecorder.onError((res) => {\r\n            console.log('监听录屏错误', res.videoPath);\r\n        });\r\n    }\r\n    static startGameRecorder() {\r\n        console.log(\"...点击开始了\");\r\n        if (TTMiniUtils.gameRecorder) {\r\n            TTMiniUtils.gameRecorder.start({ duration: 300 });\r\n        }\r\n        else {\r\n            TTMiniUtils.init();\r\n            TTMiniUtils.gameRecorder.start({ duration: 300 });\r\n        }\r\n    }\r\n    static pauseGameRecorder() {\r\n        console.log('录屏pause');\r\n        TTMiniUtils.gameRecorder.pause();\r\n    }\r\n    static resumeGameRecorder() {\r\n        console.log('录屏resume');\r\n        TTMiniUtils.gameRecorder.resume();\r\n    }\r\n    static stopGameRecorder() {\r\n        console.log('停止了录屏');\r\n        if (TTMiniUtils.gameRecorder) {\r\n            console.log('停止了录屏11111');\r\n            TTMiniUtils.gameRecorder.stop();\r\n        }\r\n    }\r\n    static shareGameRecorder(onComplete) {\r\n        if (TTMiniUtils.videoPath == \"\") {\r\n            console.log('上局游戏暂未录制！');\r\n            onComplete.runWith(\"false\");\r\n            return;\r\n        }\r\n        console.log('分享录制 videoPath：' + TTMiniUtils.videoPath);\r\n        Browser.window.tt.shareAppMessage({\r\n            channel: 'video',\r\n            title: '趣味汉字',\r\n            desc: \"#趣味汉字 #抖音小游戏\",\r\n            extra: {\r\n                videoPath: TTMiniUtils.videoPath,\r\n                videoTopics: [\"#趣味汉字\", \"#抖音小游戏\"]\r\n            },\r\n            success: () => {\r\n                console.log('录屏分享成功');\r\n                onComplete.runWith(\"true\");\r\n            },\r\n            fail: (e) => {\r\n                console.log('录屏分享失败:' + e.errMsg);\r\n                if (e.errMsg.indexOf(\"too short\") >= 0) {\r\n                    onComplete.runWith(\"short\");\r\n                }\r\n                else {\r\n                    onComplete.runWith(\"false\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\nTTMiniUtils.videoPath = \"\";\r\n",
  "references": [
    "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/utils/Browser.ts",
    "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/utils/Handler.ts"
  ]
}

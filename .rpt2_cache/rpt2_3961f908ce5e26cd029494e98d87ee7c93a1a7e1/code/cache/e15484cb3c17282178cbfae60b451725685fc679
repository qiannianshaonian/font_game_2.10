{
  "code": "export default class GameControl extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.createBoxInterval = 1000;\r\n        this._time = 0;\r\n        this._started = false;\r\n    }\r\n    onEnable() {\r\n        this._time = Date.now();\r\n        this._gameBox = this.owner.getChildByName(\"gameBox\");\r\n    }\r\n    onUpdate() {\r\n        let now = Date.now();\r\n        if (now - this._time > this.createBoxInterval && this._started) {\r\n            this._time = now;\r\n            this.createBox();\r\n        }\r\n    }\r\n    createBox() {\r\n        let box = Laya.Pool.getItemByCreateFun(\"dropBox\", this.dropBox.create, this.dropBox);\r\n        box.pos(Math.random() * (Laya.stage.width - 100), -100);\r\n        this._gameBox.addChild(box);\r\n    }\r\n    onStageClick(e) {\r\n        e.stopPropagation();\r\n        let flyer = Laya.Pool.getItemByCreateFun(\"bullet\", this.bullet.create, this.bullet);\r\n        flyer.pos(Laya.stage.mouseX, Laya.stage.mouseY);\r\n        this._gameBox.addChild(flyer);\r\n    }\r\n    startGame() {\r\n        if (!this._started) {\r\n            this._started = true;\r\n            this.enabled = true;\r\n        }\r\n    }\r\n    stopGame() {\r\n        this._started = false;\r\n        this.enabled = false;\r\n        this.createBoxInterval = 1000;\r\n        this._gameBox.removeChildren();\r\n    }\r\n}\r\n",
  "references": []
}

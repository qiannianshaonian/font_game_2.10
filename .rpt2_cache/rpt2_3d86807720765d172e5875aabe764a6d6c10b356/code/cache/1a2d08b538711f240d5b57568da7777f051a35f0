{
  "code": "import { LayaGL } from \"../../layagl/LayaGL\";\r\nimport { Mesh2D } from \"./Mesh2D\";\r\nexport class MeshVG extends Mesh2D {\r\n    constructor() {\r\n        super(MeshVG.const_stride, 4, 4);\r\n        this.canReuse = true;\r\n        this.setAttributes(MeshVG._fixattriInfo);\r\n    }\r\n    static __init__() {\r\n        var gl = LayaGL.instance;\r\n        MeshVG._fixattriInfo = [5126, 2, 0,\r\n            5121, 4, 8];\r\n    }\r\n    static getAMesh(mainctx) {\r\n        var ret;\r\n        if (MeshVG._POOL.length) {\r\n            ret = MeshVG._POOL.pop();\r\n        }\r\n        else\r\n            ret = new MeshVG();\r\n        mainctx && ret._vb._resizeBuffer(64 * 1024 * MeshVG.const_stride, false);\r\n        return ret;\r\n    }\r\n    addVertAndIBToMesh(ctx, points, rgba, ib) {\r\n        var startpos = this._vb.needSize(points.length / 2 * MeshVG.const_stride);\r\n        var f32pos = startpos >> 2;\r\n        var vbdata = this._vb._floatArray32 || this._vb.getFloat32Array();\r\n        var vbu32Arr = this._vb._uint32Array;\r\n        var ci = 0;\r\n        var sz = points.length / 2;\r\n        for (var i = 0; i < sz; i++) {\r\n            vbdata[f32pos++] = points[ci];\r\n            vbdata[f32pos++] = points[ci + 1];\r\n            ci += 2;\r\n            vbu32Arr[f32pos++] = rgba;\r\n        }\r\n        this._vb.setNeedUpload();\r\n        this._ib.append(new Uint16Array(ib));\r\n        this._ib.setNeedUpload();\r\n        this.vertNum += sz;\r\n        this.indexNum += ib.length;\r\n    }\r\n    releaseMesh() {\r\n        this._vb.setByteLength(0);\r\n        this._ib.setByteLength(0);\r\n        this.vertNum = 0;\r\n        this.indexNum = 0;\r\n        MeshVG._POOL.push(this);\r\n    }\r\n    destroy() {\r\n        this._ib.destroy();\r\n        this._vb.destroy();\r\n        this._ib.disposeResource();\r\n        this._vb.deleteBuffer();\r\n    }\r\n}\r\nMeshVG.const_stride = 12;\r\nMeshVG._POOL = [];\r\n",
  "references": [
    "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/layagl/LayaGL.ts",
    "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/resource/Context.ts",
    "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/webgl/utils/Mesh2D.ts"
  ],
  "dts": {
    "name": "/Users/zonst/Documents/font_vivo/font_game_2.10/libs/laya/webgl/utils/MeshVG.d.ts",
    "writeByteOrderMark": false,
    "text": "import { Context } from \"../../resource/Context\";\r\nimport { Mesh2D } from \"./Mesh2D\";\r\nexport declare class MeshVG extends Mesh2D {\r\n    static const_stride: number;\r\n    private static _fixattriInfo;\r\n    private static _POOL;\r\n    static __init__(): void;\r\n    constructor();\r\n    static getAMesh(mainctx: boolean): MeshVG;\r\n    addVertAndIBToMesh(ctx: Context, points: any[], rgba: number, ib: any[]): void;\r\n    releaseMesh(): void;\r\n    destroy(): void;\r\n}\r\n"
  }
}

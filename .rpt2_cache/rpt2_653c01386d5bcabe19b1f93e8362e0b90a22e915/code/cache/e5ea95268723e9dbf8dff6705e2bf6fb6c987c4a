{
  "code": "import PrefebBase from \"./PrefebBase\";\r\nimport { ResMgr } from \"../../ResMgr\";\r\nimport URI from \"../../URI\";\r\nimport { Event } from \"laya/events/Event\";\r\nexport default class FontGrid extends PrefebBase {\r\n    constructor() {\r\n        super();\r\n        this.font = \"\";\r\n        this.quality = 1;\r\n        this.colorArr = [\"blue\", \"red\", \"puple\", \"yellow\"];\r\n        this._effects = [];\r\n    }\r\n    addEffect(effect) {\r\n        if (effect == null)\r\n            return;\r\n        this.owner.addChild(effect);\r\n        this._effects.push(effect);\r\n    }\r\n    clearEffects() {\r\n        this._effects.forEach(element => {\r\n            this.owner.removeChild(element);\r\n        });\r\n        this._effects = [];\r\n    }\r\n    onUpdate() {\r\n        let img_bg = this.owner.getChildByName(\"img_bg\");\r\n        if (this.font != null) {\r\n            this.owner.getChildByName(\"txt\")[\"text\"] = this.font;\r\n            img_bg.visible = true;\r\n            img_bg.skin = \"map/img_\" + this.getQualitySign() + \"GridBg.png\";\r\n        }\r\n        else {\r\n            this.owner.getChildByName(\"txt\")[\"text\"] = \"\";\r\n            img_bg.visible = false;\r\n        }\r\n    }\r\n    getQualitySign() {\r\n        return this.colorArr[this.quality - 1];\r\n    }\r\n    onReset() {\r\n        this.quality = 1;\r\n    }\r\n    onDisable() {\r\n        this.recover();\r\n    }\r\n    playHeChengEffect() {\r\n        let sk = ResMgr.Instance().createSpine(URI.spineUrl + \"other_taozhuangxitong1.sk\", \"animation\", false);\r\n        sk.x = sk.y = 44;\r\n        sk.scaleX = sk.scaleY = 1.7;\r\n        this.owner.addChild(sk);\r\n        sk.on(Event.STOPPED, this, function (par_sk) {\r\n            par_sk.destroy();\r\n        }, [sk]);\r\n    }\r\n    reset() {\r\n        this.quality = 1;\r\n        this.clearEffects();\r\n    }\r\n}\r\n",
  "references": [
    "F:/ProjectsWorks/font_game_2ceshi/src/script/prefeb/PrefebBase.ts",
    "F:/ProjectsWorks/font_game_2ceshi/src/ResMgr.ts",
    "F:/ProjectsWorks/font_game_2ceshi/src/URI.ts",
    "F:/ProjectsWorks/font_game_2ceshi/libs/laya/ani/bone/Skeleton.ts",
    "F:/ProjectsWorks/font_game_2ceshi/libs/laya/events/Event.ts",
    "F:/ProjectsWorks/font_game_2ceshi/libs/laya/ui/Image.ts"
  ]
}

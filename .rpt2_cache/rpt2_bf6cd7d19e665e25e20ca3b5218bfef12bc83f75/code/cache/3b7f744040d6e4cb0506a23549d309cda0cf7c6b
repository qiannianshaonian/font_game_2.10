{
  "code": "export class HalfFloatUtils {\r\n    static __init__() {\r\n        for (var i = 0; i < 256; ++i) {\r\n            var e = i - 127;\r\n            if (e < -27) {\r\n                HalfFloatUtils._baseTable[i | 0x000] = 0x0000;\r\n                HalfFloatUtils._baseTable[i | 0x100] = 0x8000;\r\n                HalfFloatUtils._shiftTable[i | 0x000] = 24;\r\n                HalfFloatUtils._shiftTable[i | 0x100] = 24;\r\n            }\r\n            else if (e < -14) {\r\n                HalfFloatUtils._baseTable[i | 0x000] = 0x0400 >> (-e - 14);\r\n                HalfFloatUtils._baseTable[i | 0x100] = (0x0400 >> (-e - 14)) | 0x8000;\r\n                HalfFloatUtils._shiftTable[i | 0x000] = -e - 1;\r\n                HalfFloatUtils._shiftTable[i | 0x100] = -e - 1;\r\n            }\r\n            else if (e <= 15) {\r\n                HalfFloatUtils._baseTable[i | 0x000] = (e + 15) << 10;\r\n                HalfFloatUtils._baseTable[i | 0x100] = ((e + 15) << 10) | 0x8000;\r\n                HalfFloatUtils._shiftTable[i | 0x000] = 13;\r\n                HalfFloatUtils._shiftTable[i | 0x100] = 13;\r\n            }\r\n            else if (e < 128) {\r\n                HalfFloatUtils._baseTable[i | 0x000] = 0x7c00;\r\n                HalfFloatUtils._baseTable[i | 0x100] = 0xfc00;\r\n                HalfFloatUtils._shiftTable[i | 0x000] = 24;\r\n                HalfFloatUtils._shiftTable[i | 0x100] = 24;\r\n            }\r\n            else {\r\n                HalfFloatUtils._baseTable[i | 0x000] = 0x7c00;\r\n                HalfFloatUtils._baseTable[i | 0x100] = 0xfc00;\r\n                HalfFloatUtils._shiftTable[i | 0x000] = 13;\r\n                HalfFloatUtils._shiftTable[i | 0x100] = 13;\r\n            }\r\n        }\r\n        HalfFloatUtils._mantissaTable[0] = 0;\r\n        for (i = 1; i < 1024; ++i) {\r\n            var m = i << 13;\r\n            e = 0;\r\n            while ((m & 0x00800000) === 0) {\r\n                e -= 0x00800000;\r\n                m <<= 1;\r\n            }\r\n            m &= ~0x00800000;\r\n            e += 0x38800000;\r\n            HalfFloatUtils._mantissaTable[i] = m | e;\r\n        }\r\n        for (i = 1024; i < 2048; ++i) {\r\n            HalfFloatUtils._mantissaTable[i] = 0x38000000 + ((i - 1024) << 13);\r\n        }\r\n        HalfFloatUtils._exponentTable[0] = 0;\r\n        for (i = 1; i < 31; ++i) {\r\n            HalfFloatUtils._exponentTable[i] = i << 23;\r\n        }\r\n        HalfFloatUtils._exponentTable[31] = 0x47800000;\r\n        HalfFloatUtils._exponentTable[32] = 0x80000000;\r\n        for (i = 33; i < 63; ++i) {\r\n            HalfFloatUtils._exponentTable[i] = 0x80000000 + ((i - 32) << 23);\r\n        }\r\n        HalfFloatUtils._exponentTable[63] = 0xc7800000;\r\n        HalfFloatUtils._offsetTable[0] = 0;\r\n        for (i = 1; i < 64; ++i) {\r\n            if (i === 32) {\r\n                HalfFloatUtils._offsetTable[i] = 0;\r\n            }\r\n            else {\r\n                HalfFloatUtils._offsetTable[i] = 1024;\r\n            }\r\n        }\r\n    }\r\n    static roundToFloat16Bits(num) {\r\n        HalfFloatUtils._floatView[0] = num;\r\n        var f = HalfFloatUtils._uint32View[0];\r\n        var e = (f >> 23) & 0x1ff;\r\n        return HalfFloatUtils._baseTable[e] + ((f & 0x007fffff) >> HalfFloatUtils._shiftTable[e]);\r\n    }\r\n    static convertToNumber(float16bits) {\r\n        var m = float16bits >> 10;\r\n        HalfFloatUtils._uint32View[0] = HalfFloatUtils._mantissaTable[HalfFloatUtils._offsetTable[m] + (float16bits & 0x3ff)] + HalfFloatUtils._exponentTable[m];\r\n        return HalfFloatUtils._floatView[0];\r\n    }\r\n}\r\nHalfFloatUtils._buffer = new ArrayBuffer(4);\r\nHalfFloatUtils._floatView = new Float32Array(HalfFloatUtils._buffer);\r\nHalfFloatUtils._uint32View = new Uint32Array(HalfFloatUtils._buffer);\r\nHalfFloatUtils._baseTable = new Uint32Array(512);\r\nHalfFloatUtils._shiftTable = new Uint32Array(512);\r\nHalfFloatUtils._mantissaTable = new Uint32Array(2048);\r\nHalfFloatUtils._exponentTable = new Uint32Array(64);\r\nHalfFloatUtils._offsetTable = new Uint32Array(64);\r\n",
  "references": [],
  "dts": {
    "name": "/Users/zonst/Documents/font2.0/font_game_2.10/libs/laya/utils/HalfFloatUtils.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class HalfFloatUtils {\r\n    private static _buffer;\r\n    private static _floatView;\r\n    private static _uint32View;\r\n    private static _baseTable;\r\n    private static _shiftTable;\r\n    private static _mantissaTable;\r\n    private static _exponentTable;\r\n    private static _offsetTable;\r\n    static __init__(): void;\r\n    static roundToFloat16Bits(num: number): number;\r\n    static convertToNumber(float16bits: number): number;\r\n}\r\n"
  }
}

{
  "code": "import { ILaya } from \"../../../ILaya\";\r\nexport class InlcudeFile {\r\n    constructor(txt) {\r\n        this.codes = {};\r\n        this.funs = {};\r\n        this.curUseID = -1;\r\n        this.funnames = \"\";\r\n        this.script = txt;\r\n        var begin = 0, ofs, end;\r\n        while (true) {\r\n            begin = txt.indexOf(\"#begin\", begin);\r\n            if (begin < 0)\r\n                break;\r\n            end = begin + 5;\r\n            while (true) {\r\n                end = txt.indexOf(\"#end\", end);\r\n                if (end < 0)\r\n                    break;\r\n                if (txt.charAt(end + 4) === 'i')\r\n                    end += 5;\r\n                else\r\n                    break;\r\n            }\r\n            if (end < 0) {\r\n                throw \"add include err,no #end:\" + txt;\r\n            }\r\n            ofs = txt.indexOf('\\n', begin);\r\n            var words = ILaya.ShaderCompile.splitToWords(txt.substr(begin, ofs - begin), null);\r\n            if (words[1] == 'code') {\r\n                this.codes[words[2]] = txt.substr(ofs + 1, end - ofs - 1);\r\n            }\r\n            else if (words[1] == 'function') {\r\n                ofs = txt.indexOf(\"function\", begin);\r\n                ofs += \"function\".length;\r\n                this.funs[words[3]] = txt.substr(ofs + 1, end - ofs - 1);\r\n                this.funnames += words[3] + \";\";\r\n            }\r\n            begin = end + 1;\r\n        }\r\n    }\r\n    getWith(name = null) {\r\n        var r = name ? this.codes[name] : this.script;\r\n        if (!r) {\r\n            throw \"get with error:\" + name;\r\n        }\r\n        return r;\r\n    }\r\n    getFunsScript(funsdef) {\r\n        var r = \"\";\r\n        for (var i in this.funs) {\r\n            if (funsdef.indexOf(i + \";\") >= 0) {\r\n                r += this.funs[i];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n}\r\n",
  "references": [
    "F:/ProjectsWorks/font_game_2ceshi/libs/ILaya.ts"
  ],
  "dts": {
    "name": "F:/ProjectsWorks/font_game_2ceshi/.rpt2_cache/placeholder/laya/webgl/utils/InlcudeFile.d.ts",
    "writeByteOrderMark": false,
    "text": "export declare class InlcudeFile {\r\n    script: string;\r\n    codes: any;\r\n    funs: any;\r\n    curUseID: number;\r\n    funnames: string;\r\n    constructor(txt: string);\r\n    getWith(name?: string): string;\r\n    getFunsScript(funsdef: string): string;\r\n}\r\n"
  }
}

"use strict";var _interopRequireDefault=require("@babel/runtime-corejs2/helpers/interopRequireDefault"),_Object$defineProperty=require("@babel/runtime-corejs2/core-js/object/define-property");_Object$defineProperty(exports,"__esModule",{value:!0}),exports.default=readdir;var _fs=_interopRequireDefault(require("fs")),_path=_interopRequireDefault(require("path"));/**
 * 递归扫描所有文件
 * @param {String} root 要扫描的根目录
 * @param {Functioin} filter 要过滤的文件， 默认过滤.xxx
 * @param {Array} files 扫描出来的的文件集合
 * @param {String} prefix 用于递归时传递内层的dir
 */function readdir(a,b=noDotFiles,c=[],d=""){const e=_path.default.posix.join(a,d);return _fs.default.existsSync(e)?(_fs.default.statSync(e).isDirectory()?_fs.default.readdirSync(e).filter(function(a,c){return b(a,c,e)}).forEach(function(e){readdir(a,b,c,_path.default.posix.join(d,e))}):c.push(d),c):c}function noDotFiles(a){return"."!==a[0]}
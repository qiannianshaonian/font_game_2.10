/*
 * Copyright (C) 2017, hapjs.org. All rights reserved.
 */'use strict';var decoder,Base64={};Base64.decode=function(b){var a;if(decoder===void 0){var d="= \f\n\r\t\xA0\u2028\u2029";for(decoder=[],a=0;64>a;++a)decoder["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)]=a;for(a=0;a<d.length;++a)decoder[d.charAt(a)]=-1}var e=[],f=0,g=0;for(a=0;a<b.length;++a){var h=b.charAt(a);if("="===h)break;if(h=decoder[h],-1!==h){if(void 0===h)throw new Error("Illegal character at offset "+a);f|=h,4<=++g?(e[e.length]=f>>16,e[e.length]=255&f>>8,e[e.length]=255&f,f=0,g=0):f<<=6}}switch(g){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:e[e.length]=f>>10;break;case 3:e[e.length]=f>>16,e[e.length]=255&f>>8;}return e},Base64.re=/-----BEGIN [^-]+-----([A-Za-z0-9+/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+/=\s]+)====/,Base64.unarmor=function(b){var c=Base64.re.exec(b);if(c)if(c[1])b=c[1];else if(c[2])b=c[2];else throw new Error("RegExp out of sync");return Base64.decode(b)},module.exports=Base64;